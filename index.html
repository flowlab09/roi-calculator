<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ROI Scenario Master: Global Edition</title>
    <meta name="description" content="글로벌 산업 통계 기반 정밀 ROI 시뮬레이터" />

    <!-- 외부 라이브러리 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    
    <!-- CSS 연결 -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="locked">

    <!-- 보안 오버레이 (Cloudflare Turnstile) -->
    <div id="securityOverlay" class="ts-overlay">
        <div class="glass-card p-10 text-center max-w-sm w-full mx-4 border-white/20">
            <h2 class="text-2xl font-black mb-4 flex items-center justify-center gap-3 text-white">
                <i data-lucide="shield-check" class="text-blue-500 w-8 h-8"></i> 보안 확인
            </h2>
            <p class="text-sm text-slate-400 mb-8 leading-relaxed">보다 안전한 서비스 환경을 위해<br>보안 인증을 완료해주세요.</p>
            <div class="flex justify-center mb-6">
                <!-- 사이트 키 적용됨 -->
                <div class="cf-turnstile" 
                     data-sitekey="0x4AAAAAACHD5Ob4hHLN1WYd" 
                     data-callback="onTurnstileSuccess">
                </div>
            </div>
            <p id="tsStatus" class="text-[10px] uppercase font-black tracking-[0.2em] text-slate-500 animate-pulse">Waiting for Verification...</p>
        </div>
    </div>

    <!-- 메인 대시보드 -->
    <div class="main-content max-w-[1400px] mx-auto p-4 md:p-10 transition-all duration-700">
        
        <header class="flex flex-col xl:flex-row xl:items-end justify-between mb-16 gap-8">
            <div class="space-y-4">
                <div class="flex items-center gap-5">
                    <div class="bg-blue-600 p-4 rounded-2xl shadow-2xl shadow-blue-500/30">
                        <i data-lucide="trending-up" class="text-white w-9 h-9"></i>
                    </div>
                    <div>
                        <h1 id="ui-title" class="text-3xl md:text-5xl font-black tracking-tighter text-white">ROI 시나리오 마스터</h1>
                        <p id="ui-subtitle" class="text-slate-400 font-bold text-base tracking-wide mt-2">국가별 실데이터 기반 정밀 비즈니스 도구</p>
                    </div>
                </div>
            </div>
            
            <div class="flex flex-wrap items-center gap-4">
                <div class="flex bg-white/5 p-1 rounded-2xl border border-white/10 backdrop-blur-md">
                    <button onclick="setCountry('ko')" id="btn-country-ko" class="px-6 py-3 rounded-xl text-xs font-black transition-all">KOREA</button>
                    <button onclick="setCountry('us')" id="btn-country-us" class="px-6 py-3 rounded-xl text-xs font-black transition-all">USA</button>
                </div>
                <div class="flex bg-white/5 p-1 rounded-2xl border border-white/10 backdrop-blur-md">
                    <button onclick="setLang('ko')" id="btn-lang-ko" class="px-6 py-3 rounded-xl text-xs font-black transition-all">KOR</button>
                    <button onclick="setLang('en')" id="btn-lang-en" class="px-6 py-3 rounded-xl text-xs font-black transition-all">ENG</button>
                </div>
                <div class="flex gap-2">
                    <button id="shareBtn" class="p-3.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl transition text-slate-300">
                        <i data-lucide="share-2" class="w-5 h-5"></i>
                    </button>
                    <button id="csvBtn" class="p-3.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl transition text-slate-300">
                        <i data-lucide="download" class="w-5 h-5"></i>
                    </button>
                    <button id="resetBtn" class="p-3.5 bg-rose-500/10 hover:bg-rose-500/20 border border-rose-500/20 text-rose-500 rounded-xl transition">
                        <i data-lucide="rotate-ccw" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
        </header>

        <div class="grid grid-cols-1 xl:grid-cols-12 gap-10">
            <!-- 변수 설정 -->
            <div class="xl:col-span-4 space-y-8">
                <div class="glass-card p-10">
                    <div class="flex items-center justify-between mb-12">
                        <h2 id="ui-input-title" class="text-2xl font-black flex items-center gap-3 text-white">
                            <i data-lucide="settings-2" class="text-blue-500"></i> 변수 설정
                        </h2>
                        <div id="scenario-tabs" class="flex gap-2"></div>
                    </div>

                    <div class="space-y-12">
                        <div class="space-y-5">
                            <div class="flex justify-between items-center px-1">
                                <label id="ui-label-initial" class="text-[11px] font-black text-slate-500 uppercase tracking-[0.2em]">초기 투자금 (CapEx)</label>
                                <span id="display-initial" class="text-xl font-black text-blue-400">0</span>
                            </div>
                            <input type="range" id="input-initial" class="range-slider w-full h-2 bg-white/10 rounded-full appearance-none cursor-pointer accent-blue-500">
                        </div>

                        <div class="space-y-5">
                            <div class="flex justify-between items-center px-1">
                                <label id="ui-label-revenue" class="text-[11px] font-black text-slate-500 uppercase tracking-[0.2em]">목표 월 매출</label>
                                <span id="display-revenue" class="text-xl font-black text-emerald-400">0</span>
                            </div>
                            <input type="range" id="input-revenue" class="range-slider w-full h-2 bg-white/10 rounded-full appearance-none cursor-pointer accent-emerald-500">
                        </div>

                        <div class="grid grid-cols-2 gap-6 pt-10 border-t border-white/5 text-center">
                            <div class="bg-white/5 p-6 rounded-3xl border border-white/5">
                                <p id="ui-result-roi" class="text-[10px] font-black text-slate-500 uppercase mb-3 tracking-widest">연 예상 ROI</p>
                                <p id="display-roi" class="text-3xl font-black text-blue-500">0.0%</p>
                            </div>
                            <div class="bg-white/5 p-6 rounded-3xl border border-white/5">
                                <p id="ui-result-profit" class="text-[10px] font-black text-slate-500 uppercase mb-3 tracking-widest">월 순수익</p>
                                <p id="display-profit" class="text-2xl font-black text-emerald-500">0</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-blue-600 p-10 rounded-[3rem] shadow-2xl shadow-blue-950/50">
                    <h3 class="text-[11px] font-black uppercase tracking-[0.3em] mb-5 opacity-60 flex items-center gap-2 text-white">
                        <i data-lucide="zap" class="w-4 h-4 fill-white/50"></i> <span id="ui-strategy-title">전략 노트</span>
                    </h3>
                    <p id="display-strategy" class="text-xl font-bold leading-tight tracking-tight text-white transition-transform">분석 데이터 로딩 중...</p>
                </div>
            </div>

            <!-- 그래프 및 통계 -->
            <div class="xl:col-span-8 space-y-10">
                <div class="glass-card p-10 relative overflow-hidden">
                    <div class="flex flex-col md:flex-row md:items-center justify-between mb-12 gap-8">
                        <div>
                            <h2 id="ui-chart-title" class="text-3xl font-black tracking-tighter flex items-center gap-4 text-white">
                                <i data-lucide="bar-chart-3" class="text-blue-500 w-8 h-8"></i> 현금 흐름 분석
                            </h2>
                            <p id="ui-target-msg" class="text-slate-500 text-sm font-bold mt-2 flex items-center gap-2">
                                <i data-lucide="mouse-pointer-2" class="w-4 h-4"></i> 목표 수익 라인을 드래그하여 시점을 확인하세요
                            </p>
                        </div>
                        <div id="month-selectors" class="flex bg-white/5 p-1.5 rounded-2xl border border-white/10"></div>
                    </div>
                    
                    <div class="relative h-[380px]">
                        <svg id="main-svg" class="w-full h-full cursor-crosshair select-none rounded-[2rem]"></svg>
                        <div id="chart-tooltip" class="absolute pointer-events-none bg-slate-900/95 backdrop-blur-xl border border-white/10 p-5 rounded-2xl shadow-2xl text-white hidden z-50 min-w-[180px]"></div>
                    </div>
                </div>

                <div class="glass-card p-12 border-white/10 overflow-hidden">
                    <h3 id="display-benchmark-title" class="text-2xl font-black mb-10 text-white tracking-tighter">국가별 산업 표준 통계</h3>
                    <div class="overflow-x-auto custom-scrollbar">
                        <table class="w-full text-left min-w-[750px]">
                            <thead>
                                <tr class="border-b-2 border-white/5 text-slate-500">
                                    <th id="ui-col-industry" class="pb-8 text-[11px] font-black uppercase tracking-widest">산업군</th>
                                    <th id="ui-col-bep" class="pb-8 text-[11px] font-black uppercase tracking-widest text-center">평균 BEP</th>
                                    <th id="ui-col-margin" class="pb-8 text-[11px] font-black uppercase tracking-widest text-center">이익률</th>
                                    <th id="ui-col-survival" class="pb-8 text-[11px] font-black uppercase tracking-widest text-center">생존율 (1년/5년)</th>
                                    <th id="ui-col-cost" class="pb-8 text-[11px] font-black uppercase tracking-widest text-right">평균 투자 규모</th>
                                </tr>
                            </thead>
                            <tbody id="benchmark-body" class="divide-y divide-white/5 font-medium text-slate-300"></tbody>
                        </table>
                    </div>
                    <p id="display-source" class="mt-8 text-[10px] text-slate-500 font-medium italic"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- 스크립트 연결 -->
    <script src="script.js"></script>
</body>
</html>